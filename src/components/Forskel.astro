---
import Button from '../components/Button.astro';
import Link from '../components/Link.astro';
import { Image } from 'astro:assets';
import "../styles/tobii.min.css"; 
import { animate } from 'motion';
---

<main class="bg-lightblue w-screen mx-auto">
  <article class="container mx-auto px-5 py-5">
    <!-- Sticky overskrift -->
    <header class="flex items-center w-full bg-cover bg-center sticky top-0">
      <h2 class="text-2xl font-bold md:text-4xl lg:text-8xl ml-5 md:ml-20 md:mt-20 md:mb-30 lg:ml-[150px] xl:ml-[180px] mr-5 text-darkblue hidden md:block">
        Hvordan <br> skaber <br> Plastic <br> Change <br> en <br> <span class="animate-changeColor">forskel</span>?
      </h2>
    </header>

    <!-- Overskrift og brødtekst -->
    <section id="overskrift-og-brodtekst" class="flex flex-col md:flex-row md:gap-10 mx-auto mb-10 max-w-screen-xl">
      <!-- Sticky overskrift til venstre -->
      <div class="flex-1 md:ml-10 lg:ml-20 xl:ml-32 sticky top-0 ">
      </div>

      <!-- Brødtekst med parallax effekt -->
      <div class="flex-1 md:ml-8 lg:ml-60 relative">
        <p class="text-base md:text-lg mx-auto max-w-xs md:max-w-md lg:max-w-2xl md:mt-20 parallax-scroll">
          Langt størstedelen af din støtte går til <span class="font-bold">hav- og miljøindsatser</span>, hvor vi arbejder for at mindske plastikforurening – både i Danmark og internationalt. Vi gør dette gennem <span class="font-bold">oplysning, vidensdeling, events, undervisning og foredrag.</span> Vores mål er at mobilisere og engagere en større Plastic Changer-bevægelse, der allerede er godt i gang.
          <br><br>
          Vi står også i spidsen for <span class="font-bold">årlige oprydninger</span> i naturen, hvor vi samarbejder med andre organisationer fra hele verden for at skabe en <span class="font-bold">renere planet.</span>
          <br><br>
          En lille del af støtten går til administration, hvilket hjælper med at sikre, at Plastic Change har et sted at bo og fungerer optimalt.
          <br><br>
          En del af din støtte går til at lægge <span class="font-bold">politisk pres for bedre miljølovgivning</span>, der værner om kloden og dens ressourcer. En mindre del bruges til fundraising og indsamlinger, så Plastic Changer-bevægelsen kan fortsætte med at vokse.
        </p>
      </div>
    </section>
  </article>

  <div class="flex flex-col md:flex-row justify-between mx-auto max-w-6xl">
    <section id="Farvede bobler med forklarende tekst" class="flex flex-row items-start gap-4 md:gap-8 mt-5 md:mt-96 mx-auto">
      <!-- Billede -->
      <img src="/farver.webp" alt="Illustration af Plastic Change" class="w-full md:w-1/3 max-w-[20px] md:max-w-[40px] animate-pulse">
      
      <!-- Forklarende tekst -->
      <div class="flex flex-col justify-start space-y-4 md:space-y-14 md:w-1/2 text-nowrap">
        <p class="text-sm md:text-base font-bold">Hav- og miljøindsatser (70%)</p>
        <p class="text-sm md:text-base font-bold">Fundraising og indsamlinger (22%)</p>
        <p class="text-sm md:text-base font-bold">Projektstyring og administration (8%)</p>
      </div>
    </section>

    <section id="animationer" class="space-y-8 md:space-y-10 p-4 md:p-10 md:mr-60 flex flex-col items-center justify-center lg:ml-16">
      <!-- Animation 1: Fisk -->
      <div class="flex items-center space-x-4">
        <img src="/fisk_datavis_70.webp" alt="Fisk" class="w-[150px] sm:w-[250px] md:w-[350px] lg:w-[460px] ml-5 md:ml-32 lg:ml-60 xl:ml-40 fish-animation" />
      </div>

      <!-- Animation 2: Hjerte -->
      <div class="flex items-center space-x-4">
        <img src="/hjerte_datavis_22.webp" alt="Hjerte" class="w-[70px] sm:w-[100px] md:w-[150px] lg:w-[180px] ml-5 md:ml-20 lg:ml-32 xl:ml-40 hjerte-animation" />
      </div>

      <!-- Animation 3: Skraldespand -->
      <div class="flex items-center space-x-4">
        <img src="/skrald_datavis_8.webp" alt="Skraldespand" class="w-[40px] sm:w-[60px] md:w-[80px] lg:w-[90px] ml-5 md:ml-52 lg:ml-64 xl:ml-72 skraldespand-animation" />
      </div>
    </section>
  </div>
</main>


<script>
document.addEventListener("DOMContentLoaded", function () {
    // Tilføj svømmeanimation til fisken
    const fish = document.querySelector(".fish-animation");
    
    // Tjek om fish elementet findes
    if (fish) {
        fish.classList.add("animate__animated", "animate__slideInRight");
        
        // Efter slideInRight er færdig, start svømme-animation
        fish.addEventListener("animationend", function() {
            fish.classList.remove("animate__slideInRight"); // Fjern indtræden animation
            
            // Kort pause før svømme-animation starter
            setTimeout(() => {
                fish.classList.add("swim-on-spot"); // Tilføj svømme animation
            }, 200); // 200 ms pause
        });
    }

    // Tilføj fade in og pulsér animation til hjertet
    const heart = document.querySelector(".hjerte-animation");
    if (heart) {
      heart.classList.add("animate__animated", "animate__fadeIn", "animate__infinite", "animate__pulse");
    }
  
    // Tilføj flyv ind og vippe animation til skraldespanden
    const skraldespand = document.querySelector(".skraldespand-animation");
    if (skraldespand) {
      skraldespand.classList.add("animate__animated", "animate__slideInLeft", "animate__subtle-rotate");
    }
  });
</script>

<style>
/* Tilføj denne CSS til din stilark */
.header-hidden {
  transform: translateY(-100%); /* Skjuler overskriften ved at flytte den opad */
  opacity: 0; /* Gør den usynlig */
  transition: transform 0.5s ease, opacity 0.5s ease; /* Giver en glidende overgang */
}

  /* Giv plads mellem sticky header og brødtekst */
  header {
    margin-bottom: 50px; /* Juster denne værdi efter behov */
  }
  
  /* Juster brødtekstens parallax-scrolling */
  #overskrift-og-brodtekst {
    position: relative;
    overflow-y: hidden; /* For parallax scroll-effekt */
    height: 100vh; /* Sørger for at indholdet fylder højden */
  }
  
  @keyframes subtleRotate {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(8deg); }
    50% { transform: rotate(-8deg); }
    100% { transform: rotate(0deg); }
  }
  
  .animate__subtle-rotate {
    animation: subtleRotate 5s ease-in-out infinite; /* Gentager vippe-animationen */
  }
  
/* Keyframes til svømning ind fra højre */
@keyframes swim {
  0% { transform: translateX(100%); } /* Starter uden for højre skærm */
  100% { transform: translateX(0); } /* Ender på sin plads */
}

/* Klasse til svømme-animationen */
.fish-animation {
  animation: swim 3s ease-in-out forwards; /* Tilføjer svømme-animationen */
}

/* Keyframes til svømning på stedet */
@keyframes swim-on-spot {
  0%, 100% { transform: translateY(0); } /* Ingen vertikal bevægelse */
  50% { transform: translateY(-5px); } /* Let opad bevægelse for at simulere svømning */
}

/* Klasse til at svømme på stedet */
.swim-on-spot {
  animation: swim-on-spot 1s ease-in-out infinite; /* Svømmer op og ned kontinuerligt */
}

  @keyframes heart-beat {
  0%, 100% {
    transform: scale(1); /* Normal størrelse */
  }
  50% {
    transform: scale(1.2); /* Forstørrelse ved midten af animationen */
  }
}
.hjerte-animation {
  animation: heart-beat 3s ease-in-out infinite; /* Gentager hjerte-animationen kontinuerligt */
}
</style>
