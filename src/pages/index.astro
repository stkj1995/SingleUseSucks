---
import MainLayout from "../layouts/MainLayout.astro";
import Button from '../components/Button.astro';
import Link from '../components/Link.astro';
import { Image } from 'astro:assets';
import thumbsup from "../assets/images/thumbsup.png";
import "../styles/tobii.min.css"; 
import { animate } from 'motion';
import Forbruger from "../components/Horisontal.astro";
import Formular from "../components/Formular.astro";
import Forskel from "../components/Forskel.astro";
import Problemet from "../components/Problemet.astro";
import Merchandise from "../components/Merchandise.astro";
import Skildpadde from "../components/Skildpadde.astro";
import Plastikforurening from "../components/Plastikforurening.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Horisontal from "../components/Horisontal.astro";
---

<MainLayout title="Single Use Sucks">

    <div class="container">
        <article x-data="{ scrollPos: 0, showProgressBar: true }" 
                 @scroll.window="scrollPos = window.scrollY; showProgressBar = scrollPos > 0;">
                 
        <!-- Progress Bar -->
        <div x-show="showProgressBar" class="progress-container fixed top-0 left-0 w-2 max-h-[80vh] bg-transparent z-50" style="left: 20px;">
            <div class="progress-points">
                <a href="#header" class="progress-point" title="Header">
                    <span class="progress-label">#SingleUseSucks</span>
                </a>
                <a href="#plastikforurening" class="progress-point" title="Plastikforurening">
                    <span class="progress-label">Hvad er plastikforurening?</span>
                </a>
                <a href="#problemet" class="progress-point" title="Problemet">
                    <span class="progress-label">Problemet med plastikforurening</span>
                </a>
                <a href="#skildpadde" class="progress-point" title="Skildpadde">
                    <span class="progress-label">Konsekvensen</span>
                </a>
                <a href="#horisontal" class="progress-point" title="Horisontal">
                    <span class="progress-label">Hvordan kan du bidrage?</span>
                </a>
                <a href="#forskel" class="progress-point" title="Forskel">
                    <span class="progress-label">Sådan gør vi en forskel</span>
                </a>
                <a href="#formular" class="progress-point" title="Formular">
                    <span class="progress-label">Bidrag nu!</span>
                </a>
                <a href="#merchandise" class="progress-point" title="Merchandise">
                    <span class="progress-label">Køb merchandise</span>
                </a>
                <a href="#footer" class="progress-point" title="Footer">
                    <span class="progress-label">Tilmeld nyhedsbrev</span>
                </a>
            </div>
            <div class="progress-bar" :style="{ height: Math.min((scrollPos / (document.body.scrollHeight - window.innerHeight) * 100), 80) + '%', top: '80px' }"></div>
        </div>

         <!-- Komponenter med indhold -->
    
         <Plastikforurening></Plastikforurening>
         <Problemet></Problemet>
         <Skildpadde></Skildpadde>
         <Horisontal></Horisontal>
         <Forskel></Forskel>
         <Formular></Formular>
         <Merchandise></Merchandise>
        
      
         <!-- <Button class="mb-4">Klik!</Button>
                  
        <p class="text-sm md:text-base space-y-4">Link til <Link href="https://www.kea.dk" target="_blank">En anden side</Link></p>       -->
            
        </article>
    </div>
</MainLayout>

<script src="https://cdn.jsdelivr.net/npm/alpinejs" defer></script>

<script is:inline src="/tobii.min.js"></script>
<script defer>
	const tobii = new Tobii(); 
</script>

<script>
    /* Import af Motion One biblioteket */
    import { animate, stagger, scroll, inView as motionInView, timeline } from '@motionone/dom';
    import type { TimelineSegment } from '@motionone/dom';
</script>